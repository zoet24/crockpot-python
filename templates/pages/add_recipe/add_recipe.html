{% set active_page = 'add_recipe' %}
{% extends "pages/base/base.html" %}

{% block extra_title %} | Add Recipe{% endblock %}

{% block content %}
    <!-- Header -->
    {% with header_text="Add Recipe" %}
        {% include 'components/header.html' %}
    {% endwith %}

    <section class="add-recipe">
        <div class="add-recipe__container">
            <form class="add-recipe__form" method="POST" action="{{ url_for('addRecipe') }}">
                <!-- Recipe name -->
                <div class="add-recipe__form-component add-recipe__form-name">
                    <label for="name">Recipe:</label>
                    <input type="text" id="name" name="name">
                </div>

                <!-- Time -->
                <div class="add-recipe__form-component add-recipe__form-time">
                    <label for="time">Time:</label>
                    {% with btn_start="30", btn_step="5", btn_min="10", btn_max="300", btn_formVal="time" %}
                        {% include 'components/btn-plus-minus.html' %}
                    {% endwith %}
                </div>

                <!-- Image -->
                <div class="add-recipe__form-component add-recipe__form-image">
                    <label for="image">Image:</label>
                    <input type="text" id="image" name="image">
                </div>

                <!-- Categories (select dropdown, multiple values) -->
                <div class="add-recipe__form-component add-recipe__form-categories">
                    <label for="recipeCategories">Categories:</label>
                    <select id="recipeCategories" name="recipeCategories">
                        {% for cat in recCats %}
                            <option label="{{cat.name}}" value="{{cat._id}}"></option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Serves -->
                <div class="add-recipe__form-component add-recipe__form-serves">
                    <label for="serves">Serves:</label>
                    {% with btn_start="1", btn_step="1", btn_min="1", btn_max="20", btn_formVal="serves" %}
                        {% include 'components/btn-plus-minus.html' %}
                    {% endwith %}
                </div>
                
                <!-- Ingredients - name (select dropdown, multiple values) -->
                <div class="add-recipe__form-component add-recipe__form-ing-name">
                    <label for="ingredientName">Ingredient:</label>
                    <select id="ingredientName" name="ingredientName">
                        {% for ing in ings %}
                            <option label="{{ing.name}}" value="{{ing._id}}"></option>
                        {% endfor %}
                    </select>
                </div>
                
                <!-- Ingredients - quantity -->
                <div class="add-recipe__form-component add-recipe__form-ing-num">
                    <label for="ingredientNum">Quantity:</label>
                    <input 
                        type="number" 
                        value="1" 
                        step="0.01" 
                        min="0.01" 
                        max="10000" 
                        id="ingredientNum" 
                        name="ingredientNum"
                    />
                </div>

                <!-- Ingredients - unit -->
                <div class="add-recipe__form-component add-recipe__form-ing-unit">
                    <label for="ingredientUnit">Unit:</label>
                    <select id="ingredientUnit" name="ingredientUnit">
                        <option label="-" value=""></option>
                        <option label="g" value="g"></option>
                        <option label="ml" value="ml"></option>
                        <option label="tsp" value=" tsp"></option>
                        <option label="tbsp" value=" tbsp"></option>
                        <option label="cans" value=" cans"></option>
                    </select>
                </div>

                <!-- Instructions -->
                <div class="add-recipe__form-component add-recipe__form-instructions">
                    <label for="instructions">Instructions:</label>
                    <input type="text" id="instructions" name="instructions">
                </div>

                <!-- Tips -->
                <div class="add-recipe__form-component add-recipe__form-notes">
                    <label for="notes">Notes:</label>
                    <input type="text" id="notes" name="notes">
                </div>

                <!-- Submit -->
                <input type="submit" value="Submit">
            </form>

        </div>
    </section>
{% endblock %}